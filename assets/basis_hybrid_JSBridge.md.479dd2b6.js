import{_ as a,o as s,c as n,V as e}from"./chunks/framework.b8955dba.js";const B=JSON.parse('{"title":"JSBridgeçš„åŸç†åŠä½¿ç”¨","description":"","frontmatter":{},"headers":[],"relativePath":"basis/hybrid/JSBridge.md","filePath":"basis/hybrid/JSBridge.md"}'),l={name:"basis/hybrid/JSBridge.md"},p=e(`<h1 id="jsbridgeçš„åŸç†åŠä½¿ç”¨" tabindex="-1">JSBridgeçš„åŸç†åŠä½¿ç”¨ <a class="header-anchor" href="#jsbridgeçš„åŸç†åŠä½¿ç”¨" aria-label="Permalink to &quot;JSBridgeçš„åŸç†åŠä½¿ç”¨&quot;">â€‹</a></h1><p>JSBridge å³ JavaScript Bridgeï¼Œå®ƒæ˜¯ä¸€ç§åœ¨ JavaScript ä¸åŸç”Ÿä»£ç ï¼ˆå¦‚ Android çš„ Java æˆ– iOS çš„ Objective - C/Swiftï¼‰ä¹‹é—´è¿›è¡ŒåŒå‘é€šä¿¡ çš„æŠ€æœ¯ï¼Œå¸¸è§äºæ··åˆå¼€å‘ï¼ˆHybrid Appï¼‰ä¸­ã€‚å…¶æ ¸å¿ƒç›®çš„æ˜¯è®© Web é¡µé¢èƒ½å¤Ÿè°ƒç”¨åŸç”ŸåŠŸèƒ½ï¼ˆå¦‚ç›¸æœºã€å®šä½ç­‰ï¼‰ï¼ŒåŒæ—¶åŸç”Ÿä»£ç ä¹Ÿèƒ½è§¦å‘ Web é¡µé¢çš„é€»è¾‘æ›´æ–°ã€‚</p><h2 id="javascriptè°ƒç”¨nativeçš„æ–¹æ³•" tabindex="-1">JavaScriptè°ƒç”¨Nativeçš„æ–¹æ³• <a class="header-anchor" href="#javascriptè°ƒç”¨nativeçš„æ–¹æ³•" aria-label="Permalink to &quot;JavaScriptè°ƒç”¨Nativeçš„æ–¹æ³•&quot;">â€‹</a></h2><ul><li>æ³¨å…¥API</li><li>æ‹¦æˆªURL Scheme</li></ul><h3 id="æ³¨å…¥-api-æ–¹å¼" tabindex="-1">æ³¨å…¥ API æ–¹å¼ <a class="header-anchor" href="#æ³¨å…¥-api-æ–¹å¼" aria-label="Permalink to &quot;æ³¨å…¥ API æ–¹å¼&quot;">â€‹</a></h3><p>åŸç†ï¼šåŸç”Ÿç«¯å‘ WebView ä¸­æ³¨å…¥ä¸€ä¸ªå…¨å±€çš„ JavaScript å¯¹è±¡ï¼ŒWeb ç«¯å¯ä»¥ç›´æ¥è°ƒç”¨è¿™ä¸ªå¯¹è±¡çš„æ–¹æ³•ï¼Œä»è€Œè§¦å‘åŸç”Ÿä»£ç çš„æ‰§è¡Œã€‚</p><p>ç¤ºä¾‹ï¼š åœ¨ Android ç«¯æ³¨å…¥å¯¹è±¡ï¼š</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#BABED8;">webView</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">addJavascriptInterface</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">JsInterface</span><span style="color:#89DDFF;">(),</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">NativeBridge</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">JsInterface</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">JavascriptInterface</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#C792EA;">public</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">void</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">nativeMethod</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">String</span><span style="color:#BABED8;"> </span><span style="color:#BABED8;font-style:italic;">param</span><span style="color:#89DDFF;">)</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;font-style:italic;">// æ‰§è¡ŒåŸç”Ÿé€»è¾‘</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><p>åœ¨ Web ç«¯è°ƒç”¨æ³¨å…¥çš„å¯¹è±¡æ–¹æ³•ï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// Web ç«¯ä»£ç </span></span>
<span class="line"><span style="color:#BABED8;">NativeBridge</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">nativeMethod</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">test param</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">;</span></span></code></pre></div><h2 id="nativeè°ƒç”¨javascript" tabindex="-1">Nativeè°ƒç”¨JavaScript <a class="header-anchor" href="#nativeè°ƒç”¨javascript" aria-label="Permalink to &quot;Nativeè°ƒç”¨JavaScript&quot;">â€‹</a></h2><p>åŸç†ï¼šåŸç”Ÿç«¯é€šè¿‡ WebView æä¾›çš„æ–¹æ³•æ¥æ‰§è¡Œ JavaScript ä»£ç ã€‚åœ¨ Android ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ webView.loadUrl(&quot;javascript:yourJavaScriptFunction()&quot;);ï¼›åœ¨ iOS ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ [webView <code>evaluateJavaScript</code>ğŸ˜¡&quot;yourJavaScriptFunction()&quot; completionHandler:nil];ã€‚</p><p>ç¤ºä¾‹ï¼š åœ¨ Android ç«¯è°ƒç”¨ Web ç«¯çš„ JavaScript æ–¹æ³•ï¼š</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#BABED8;">webView</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">loadUrl</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">javascript:webFunction(&#39;Hello from native&#39;)</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">);</span></span></code></pre></div><p>åœ¨ Web ç«¯å®šä¹‰ç›¸åº”çš„ JavaScript æ–¹æ³•ï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">webFunction</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">message</span><span style="color:#89DDFF;">)</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">alert</span><span style="color:#F07178;">(</span><span style="color:#BABED8;">message</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><h2 id="å‚è€ƒ" tabindex="-1">å‚è€ƒ <a class="header-anchor" href="#å‚è€ƒ" aria-label="Permalink to &quot;å‚è€ƒ&quot;">â€‹</a></h2><p><a href="https://blog.csdn.net/wang_gwei/article/details/132338914" target="_blank" rel="noreferrer">JSBridgeçš„åŸç†åŠä½¿ç”¨</a></p>`,18),o=[p];function t(r,c,i,y,d,D){return s(),n("div",null,o)}const v=a(l,[["render",t]]);export{B as __pageData,v as default};
