import{_ as e,o as t,c as r,V as a}from"./chunks/framework.b8955dba.js";const _=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"nextjs/nextjs.md","filePath":"nextjs/nextjs.md"}'),o={name:"nextjs/nextjs.md"},s=a('<h2 id="next" tabindex="-1">Next <a class="header-anchor" href="#next" aria-label="Permalink to &quot;Next&quot;">​</a></h2><p>自定义服务器 <a href="https://nextjs.org/docs/pages/building-your-application/configuring/custom-server" target="_blank" rel="noreferrer">https://nextjs.org/docs/pages/building-your-application/configuring/custom-server</a> /Users/zjt/work/code/chuguo-node-toefl-h5/script.js</p><h3 id="getserversideprops" tabindex="-1">getServerSideProps <a class="header-anchor" href="#getserversideprops" aria-label="Permalink to &quot;getServerSideProps&quot;">​</a></h3><p>如果您需要呈现依赖于个性化用户数据的页面，或者只有在请求时才能知道的信息，则应该使用getServerSideProps getServerSideProps在服务器上运行 getServerSideProps只能从页面使用export导出 export const getServerSideProps = (async () =&gt; { // Fetch data from external API<br> const res = await fetch(&#39;<a href="https://api.github.com/repos/vercel/next.js" target="_blank" rel="noreferrer">https://api.github.com/repos/vercel/next.js</a>&#39;) const repo: Repo = await res.json()<br> // Pass data to the page via props<br> return { props: { repo } } })</p><p>export default function Page({ repo}) {<br> return (<br><main><p>{repo.stargazers_count}</p></main> ) }</p><h3 id="getstaticprops" tabindex="-1">getStaticProps <a class="header-anchor" href="#getstaticprops" aria-label="Permalink to &quot;getStaticProps&quot;">​</a></h3><p>呈现页所需的数据在用户请求之前的生成时可用,页面必须预先渲染（用于SEO）并且非常快- getStaticProps生成HTML和JSON文件，这两个文件都可以由CDN缓存以提高性能 数据可以被公开缓存（而不是特定于用户）。在某些特定情况下，可以通过使用中间件重写路径来绕过此条件。 getStaticProps总是在服务器上运行，从不在客户端上运行 getStaticProps始终在next build期间运行 getStaticProps在使用fallback: true时在后台运行 由于getStaticProps只在服务器端运行，它永远不会在客户端运行。它甚至不会包含在浏览器的JS包中，因此您可以直接编写数据库查询，而无需将它们发送到浏览器。</p><h3 id="getinitialprops" tabindex="-1">getInitialProps <a class="header-anchor" href="#getinitialprops" aria-label="Permalink to &quot;getInitialProps&quot;">​</a></h3><p>getInitialProps是一个async函数可以添加到页面的默认导出React组件中。它将在服务器端运行，并在页面转换期间再次在客户端运行。函数的结果将作为props转发给React组件。</p>',9),i=[s];function p(n,c,l,d,g,h){return t(),r("div",null,i)}const x=e(o,[["render",p]]);export{_ as __pageData,x as default};
