import{_ as s,o as l,c as a,V as n}from"./chunks/framework.b8955dba.js";const d=JSON.parse('{"title":"vue2与vue3有哪些区别","description":"","frontmatter":{},"headers":[],"relativePath":"vue/other/v2&v3.md","filePath":"vue/other/v2&v3.md"}'),o={name:"vue/other/v2&v3.md"},p=n(`<h1 id="vue2与vue3有哪些区别" tabindex="-1">vue2与vue3有哪些区别 <a class="header-anchor" href="#vue2与vue3有哪些区别" aria-label="Permalink to &quot;vue2与vue3有哪些区别&quot;">​</a></h1><h2 id="使用" tabindex="-1">使用 <a class="header-anchor" href="#使用" aria-label="Permalink to &quot;使用&quot;">​</a></h2><ol><li>vue3采用componsition api，而vue2采用option api</li><li>生命周期beforeDestroy变成了beforeUnmount，destroyed变成了unmounted</li><li>新增<code>script setup</code>语法糖</li><li>vue3支持多个根节点，会自动在组件外部增加fragment包裹</li><li>去掉.sync修饰符，新增<code>v-model:prop</code></li><li>新增ref、reactive、toRefs、toRef、computed、watch、watchEffect、provide、inject等</li><li>v-model用法改变，新增modelValue和update:modelValue</li><li>vue3有teleport，可以传送组件到body中</li><li>v-if v-for优先级改变，在vue2中v-for优先级更高；vue3中v-if优先级更高, 如果v-if的变量依赖v-for产生会报错</li><li>自定义指令钩子变化，新增beforeMounted、mounted、beforeUpdate、updated、beforeUnmount、unmounted</li><li>对ts支持更友好，新增defineComponent</li><li>vite，使用esbuild预构建，提升构建速度</li><li>新增css变量，现在script中定义变量，然后在css中设置v-bind(css变量);</li></ol><div class="language-vue"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">script</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">setup</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">ref</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">vue</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> theme </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">ref</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#F07178;">color</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">red</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">)</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">template</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">p</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;">hello</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">p</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">template</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">style</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">scoped</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#FFCB6B;">p</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#B2CCD6;">color</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> v-bind(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">theme.color</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">style</span><span style="color:#89DDFF;">&gt;</span></span></code></pre></div><ol start="14"><li>SFC <code>style scoped</code> 新增全局规则和针对插槽内容的规则</li></ol><div class="language-vue"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">style</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">scoped</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">/* deep selectors */</span></span>
<span class="line"><span style="color:#BABED8;">::v-deep(</span><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">foo</span><span style="color:#BABED8;">) </span><span style="color:#89DDFF;">{}</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">/* shorthand */</span></span>
<span class="line"><span style="color:#BABED8;">:deep(</span><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">foo</span><span style="color:#BABED8;">) </span><span style="color:#89DDFF;">{}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">/* targeting slot content */</span></span>
<span class="line"><span style="color:#BABED8;">::v-slotted(</span><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">foo</span><span style="color:#BABED8;">) </span><span style="color:#89DDFF;">{}</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">/* shorthand */</span></span>
<span class="line"><span style="color:#BABED8;">:slotted(</span><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">foo</span><span style="color:#BABED8;">) </span><span style="color:#89DDFF;">{}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">/* one-off global rule */</span></span>
<span class="line"><span style="color:#BABED8;">::v-global(</span><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">foo</span><span style="color:#BABED8;">) </span><span style="color:#89DDFF;">{}</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">/* shorthand */</span></span>
<span class="line"><span style="color:#BABED8;">:global(</span><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">foo</span><span style="color:#BABED8;">) </span><span style="color:#89DDFF;">{}</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">style</span><span style="color:#89DDFF;">&gt;</span></span></code></pre></div><ol start="15"><li>实验性api，suspense组件，用于处理异步组件</li></ol><div class="language-vue"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">Suspense</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">  &lt;template #default&gt;</span></span>
<span class="line"><span style="color:#BABED8;">    &lt;div&gt;hello&lt;/div&gt;</span></span>
<span class="line"><span style="color:#BABED8;">  &lt;/template&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">Suspense</span><span style="color:#89DDFF;">&gt;</span></span></code></pre></div><h2 id="内部" tabindex="-1">内部 <a class="header-anchor" href="#内部" aria-label="Permalink to &quot;内部&quot;">​</a></h2><ol><li>dom diff优化，使用最长递增子序列</li><li>proxy替换Object.defineProperty，新增effect</li><li>响应式原理，使用proxy代理对象，使用effect监听对象的变化</li><li>模版编译优化，使用静态提升和预编译</li><li>tree shaking，模块单独打包，按需引入</li><li>ssr，使用stream渲染</li></ol>`,10),e=[p];function t(c,r,i,y,D,F){return l(),a("div",null,e)}const u=s(o,[["render",t]]);export{d as __pageData,u as default};
